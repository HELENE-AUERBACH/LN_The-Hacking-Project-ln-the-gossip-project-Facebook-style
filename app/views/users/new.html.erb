<h1>Inscription</h1>

<% if !@user.nil? && @user.errors.any? %>
  <div class="alert alert-danger" role="alert">
    <p>Nous n'avons pas réussi à créer l'utilisateur pour la (ou les) raison(s) suivante(s) :</p>
    <ul>
      <% @user.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
    </ul>
  </div>
<% end %>

<%= form_tag url_for(action: 'create'), method: "post" do %>

  <%= label_tag 'Prénom' %>
  <%= text_field_tag 'first_name', (@user.first_name if !@user.nil?), size: 20, maxlength: 14 %>
  <br /> <br />

  <%= label_tag 'Nom' %>
  <%= text_field_tag 'last_name', (@user.last_name if !@user.nil?), size: 20, maxlength: 14 %>
  <br /> <br />

  <%= label_tag 'Description' %>
  <%= text_area_tag 'description', (@user.description if !@user.nil?), size: "25x10" %>
  <br /> <br />

  <%= label_tag 'E-mail' %>
  <%= text_field_tag 'email', (@user.email if !@user.nil?), size: 50, maxlength: 44 %>
  <br /> <br />

  <%= label_tag 'Age' %>
  <%= number_field_tag 'age', nil, min: 13 %>
  <br /> <br />

  <%= label_tag 'Mot de passe' %>
  <%= password_field_tag 'password', (@user.password if !@user.nil?), size: 50, maxlength: 44 %>
  <br /> <br />

  <%= label_tag 'Ville' %>
  <%= select_tag 'city_id', options_for_select(City.all.collect{ |c| [c.name, c.id] }) %>
  <br /> <br />

  <%= submit_tag "Enregistrer cet utilisateur" %>

<% end %>
